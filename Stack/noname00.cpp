#include <iostream>

using namespace std;

void f(int, int);
void g(int, int);
const int n = 16;
int a[n][n]= {//0 1 2 3 4 5 6 7 8 9 101112131415
					{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}, //0
					{0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1}, //1
					{1,1,0,0,0,1,1,0,0,0,1,0,1,1,0,1}, //2
					{1,1,1,1,0,1,1,0,1,0,0,0,1,0,0,1}, //3
					{1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1}, //4
					{1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1}, //5
					{1,0,1,1,1,0,1,1,1,1,1,0,1,1,0,1}, //6
					{1,0,1,1,1,0,0,0,0,1,1,0,1,1,0,1}, //7
					{1,0,1,1,1,0,1,1,0,0,0,0,1,1,1,1}, //8
					{1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1}, //9
					{1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1}, //10
					{1,0,0,0,0,0,1,1,1,1,0,1,1,1,1,1}, //11
					{1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1}, //12
					{1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1}, //13
					{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, //14
					{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}  //15
				 };
int main()
{
	int i=n-1, j=0;
	while (a[i][j] != 0)
	{
		if (i>0)
			i--;
		else
			j++;
	}
	f(i, j);
	g(i, j);
	for (i=0; i<n; i++)
	{
		for (j=0; j<n; j++)
			switch (a[i][j])
			{
				case 1:
					cout << "##";
					break;
				case 0:
				case 2:
				case 3:
					cout << "  ";
					break;
				case 4:
					cout << ". ";
			}
		cout << endl;
	}
	return 0;
}
void f(int i, int j)
{
	int si[20]={0}, sj[20]={0}, sp=-1, c;
	while (i<n-1 && j<n-1)
	{
		a[i][j] = 2;
		c = 0;
		if (j-1 >= 0)
			if (a[i][j-1] == 0)
			{
				si[++sp] = i;
				sj[sp] = j-1;
				c++;
			}
		if (i+1 < n)
			if (a[i+1][j] == 0)
			{
				si[++sp] = i+1;
				sj[sp] = j;
				c++;
			}
		if (j+1 < n)
			if (a[i][j+1] == 0)
			{
				si[++sp] = i;
				sj[sp] = j+1;
				c++;
			}
		if (i-1 < n)
			if (a[i-1][j] == 0)
			{
				si[++sp] = i-1;
				sj[sp] = j;
				c++;
			}
		if (c == 0)
		{
			a[si[sp]][sj[sp]] = 3;
			i = si[--sp];
			j = sj[sp];
		}
		else
		{
			i = si[sp];
			j = sj[sp];
			if (c == 1)
				sp--;
		}
	}
	a[i][j] = 2;
}
void g(int i, int j)
{
	while (i<n-1 && j<n-1)
	{
		a[i][j] = 4;
		if (i-1 >= 0)
			if (a[i-1][j] == 2)
			{
				i--;
				continue;
			}
		if (j+1 < n)
			if (a[i][j+1] == 2)
			{
				j++;
				continue;
			}
		if (i+1 < n)
			if (a[i+1][j] == 2)
			{
				i++;
				continue;
			}
		if (j-1 >= 0)
			if (a[i][j-1] == 2)
			{
				j--;
				continue;
			}
	}
	a[i][j] = 4;
}
